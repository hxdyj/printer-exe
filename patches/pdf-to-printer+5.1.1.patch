diff --git a/node_modules/pdf-to-printer/dist/bundle.js b/node_modules/pdf-to-printer/dist/bundle.js
index 180cf94..b48dd07 100644
--- a/node_modules/pdf-to-printer/dist/bundle.js
+++ b/node_modules/pdf-to-printer/dist/bundle.js
@@ -1,2 +1,2 @@
-!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(global,(function(){return(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getDefaultPrinter:()=>b,getPrinters:()=>x,print:()=>w});const n=require("path");var i=e.n(n);const r=require("fs");var o=e.n(r);const a=require("child_process"),s=require("util"),c=e.n(s)().promisify(a.execFile),u="electron"in process.versions&&process.mainModule&&process.mainModule.filename.includes("app.asar"),l=require("os");var p=e.n(l);function d(){if("win32"!==p().platform())throw"Operating System not supported"}const f=["odd","even"],h=["portrait","landscape"],m=["noscale","shrink","fit"],v=["duplex","duplexshort","duplexlong","simplex"],y=["A2","A3","A4","A5","A6","letter","legal","tabloid","statement"];function w(e,t={}){return n=this,r=void 0,s=function*(){if(d(),!e)throw"No PDF specified";if(!o().existsSync(e))throw"No such file";let n=t.sumatraPdfPath||i().join(__dirname,"SumatraPDF.exe");var r;t.sumatraPdfPath||(r=n,n=u?r.replace("app.asar","app.asar.unpacked"):r);const a=[],{printer:s,silent:l,printDialog:p}=t;p?a.push("-print-dialog"):(s?a.push("-print-to",s):a.push("-print-to-default"),!1!==l&&a.push("-silent"));const w=function(e){const{pages:t,subset:n,orientation:i,scale:r,monochrome:o,side:a,bin:s,paperSize:c,copies:u}=e,l=[];if(t&&l.push(t),n){if(!f.includes(n))throw`Invalid subset provided. Valid names: ${f.join(", ")}`;l.push(n)}if(i){if(!h.includes(i))throw`Invalid orientation provided. Valid names: ${h.join(", ")}`;l.push(i)}if(r){if(!m.includes(r))throw`Invalid scale provided. Valid names: ${m.join(", ")}`;l.push(r)}if(o?l.push("monochrome"):!1===o&&l.push("color"),a){if(!v.includes(a))throw`Invalid side provided. Valid names: ${v.join(", ")}`;l.push(a)}if(s&&l.push(`bin=${s}`),c){if(!y.includes(c))throw`Invalid paper size provided. Valid names: ${y.join(", ")}`;l.push(`paper=${c}`)}return u&&l.push(`${u}x`),l}(t);w.length&&a.push("-print-settings",w.join(",")),a.push(e);try{yield c(n,a)}catch(e){throw e}},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function o(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((s=s.apply(n,r||[])).next())}));var n,r,a,s}function P(e){const t={deviceId:"",name:""};return{isValid:e.split(/\r?\n/).some((e=>{const[n,i]=e.split(":").map((e=>e.trim())),r=n.toLowerCase();return"deviceid"===r&&(t.deviceId=i),"name"===r&&(t.name=i),!(!t.deviceId||!t.name)})),printerData:t}}const x=function(){return e=this,t=void 0,i=function*(){try{d();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name"]);return function(e){const t=[];return e.split(/(\r?\n){2,}/).map((e=>e.trim())).filter((e=>!!e)).forEach((e=>{const{isValid:n,printerData:i}=P(e);n&&t.push(i)})),t}(e)}catch(e){throw e}},new((n=void 0)||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i};const b=function(){return e=this,t=void 0,i=function*(){try{d();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name -Filter Default=true"]),t=e.trim();if(!e)return null;const{isValid:n,printerData:i}=P(t);return n?i:null}catch(e){throw e}},new((n=void 0)||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i};return t})()}));
-//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBdUJYLEVBQVlFLEtBQU83QyxNQUVwQzJDLEVBQVlDLFdBQVlELEVBQVlFLFNBSzlDRixZQUFBQSxHQ1VKLFFBL0JBLFcscUNBbUJFLElBQ0UsSUFDQSxNQUFNLE9BQUVhLFNBQWlCLEVBQWMsaUJBQWtCLENBQ3ZELFdBQ0EsMERBRUYsT0F4QkYsU0FBdUJBLEdBQ3JCLE1BQU1DLEVBQXNCLEdBYzVCLE9BWkFELEVBQ0dULE1BQU0sZUFDTkksS0FBSzNCLEdBQVlBLEVBQVE2QixTQUN6QkssUUFBUWxDLEtBQWNBLElBQ3RCbUMsU0FBU25DLElBQ1IsTUFBTSxRQUFFc0IsRUFBTyxZQUFFSCxHQUFnQkQsRUFBZWxCLEdBRTNDc0IsR0FFTFcsRUFBUzlCLEtBQUtnQixNQUdYYyxFQVNBRyxDQUFjSixHQUNyQixNQUFPZixHQUNQLE1BQU1BLEksZ1NDRVYsUUF6QkEsVyxxQ0FDRSxJQUNFLElBRUEsTUFBTSxPQUFFZSxTQUFpQixFQUFjLGlCQUFrQixDQUN2RCxXQUNBLCtFQUdJaEMsRUFBVWdDLEVBQU9ILE9BR3ZCLElBQUtHLEVBQVEsT0FBTyxLQUVwQixNQUFNLFFBQUVWLEVBQU8sWUFBRUgsR0FBZ0JELEVBQWVsQixHQUdoRCxPQUFLc0IsRUFFRUgsRUFGYyxLQUdyQixNQUFPRixHQUNQLE1BQU1BLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwicGF0aFwiIiwid2VicGFjazovL3BkZi10by1wcmludGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovL3BkZi10by1wcmludGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjaGlsZF9wcm9jZXNzXCIiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInV0aWxcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy9leGVjLWZpbGUtYXN5bmMudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvdXRpbHMvZWxlY3Ryb24tdXRpbC50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwib3NcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy90aHJvdy1pZi11bnN1cHBvcnRlZC1vcy50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy9wcmludC9wcmludC50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy93aW5kb3dzLXByaW50ZXItdmFsaWQudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvZ2V0LXByaW50ZXJzL2dldC1wcmludGVycy50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy9nZXQtZGVmYXVsdC1wcmludGVyL2dldC1kZWZhdWx0LXByaW50ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicGF0aFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInV0aWxcIik7IiwiaW1wb3J0IHsgZXhlY0ZpbGUgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHV0aWwgZnJvbSBcInV0aWxcIjtcblxuY29uc3QgZXhlY0ZpbGVBc3luYyA9IHV0aWwucHJvbWlzaWZ5KGV4ZWNGaWxlKTtcblxuZXhwb3J0IGRlZmF1bHQgZXhlY0ZpbGVBc3luYztcbiIsIi8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9lbGVjdHJvbi11dGlsL2Jsb2IvbWFzdGVyL25vZGUuanNcblxuY29uc3QgaXNFbGVjdHJvbiA9IFwiZWxlY3Ryb25cIiBpbiBwcm9jZXNzLnZlcnNpb25zO1xuXG5jb25zdCBpc1VzaW5nQXNhciA9XG4gIGlzRWxlY3Ryb24gJiZcbiAgcHJvY2Vzcy5tYWluTW9kdWxlICYmXG4gIHByb2Nlc3MubWFpbk1vZHVsZS5maWxlbmFtZS5pbmNsdWRlcyhcImFwcC5hc2FyXCIpO1xuXG5mdW5jdGlvbiBmaXhQYXRoRm9yQXNhclVucGFjayhwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gaXNVc2luZ0FzYXIgPyBwYXRoLnJlcGxhY2UoXCJhcHAuYXNhclwiLCBcImFwcC5hc2FyLnVucGFja2VkXCIpIDogcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZml4UGF0aEZvckFzYXJVbnBhY2s7XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm9zXCIpOyIsImltcG9ydCBvcyBmcm9tIFwib3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3dJZlVuc3VwcG9ydGVkT3MoKSB7XG4gIGlmIChvcy5wbGF0Zm9ybSgpICE9PSBcIndpbjMyXCIpIHtcbiAgICB0aHJvdyBcIk9wZXJhdGluZyBTeXN0ZW0gbm90IHN1cHBvcnRlZFwiO1xuICB9XG59XG4iLCJpbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IGV4ZWNBc3luYyBmcm9tIFwiLi4vdXRpbHMvZXhlYy1maWxlLWFzeW5jXCI7XG5pbXBvcnQgZml4UGF0aEZvckFzYXJVbnBhY2sgZnJvbSBcIi4uL3V0aWxzL2VsZWN0cm9uLXV0aWxcIjtcbmltcG9ydCB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0gZnJvbSBcIi4uL3V0aWxzL3Rocm93LWlmLXVuc3VwcG9ydGVkLW9zXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbnRPcHRpb25zIHtcbiAgcHJpbnRlcj86IHN0cmluZztcbiAgcGFnZXM/OiBzdHJpbmc7XG4gIHN1YnNldD86IHN0cmluZztcbiAgb3JpZW50YXRpb24/OiBzdHJpbmc7XG4gIHNjYWxlPzogc3RyaW5nO1xuICBtb25vY2hyb21lPzogYm9vbGVhbjtcbiAgc2lkZT86IHN0cmluZztcbiAgYmluPzogc3RyaW5nO1xuICBwYXBlclNpemU/OiBzdHJpbmc7XG4gIHNpbGVudD86IGJvb2xlYW47XG4gIHByaW50RGlhbG9nPzogYm9vbGVhbjtcbiAgc3VtYXRyYVBkZlBhdGg/OiBzdHJpbmc7XG4gIGNvcGllcz86IG51bWJlcjtcbn1cblxuY29uc3QgdmFsaWRTdWJzZXRzID0gW1wib2RkXCIsIFwiZXZlblwiXTtcbmNvbnN0IHZhbGlkT3JpZW50YXRpb25zID0gW1wicG9ydHJhaXRcIiwgXCJsYW5kc2NhcGVcIl07XG5jb25zdCB2YWxpZFNjYWxlcyA9IFtcIm5vc2NhbGVcIiwgXCJzaHJpbmtcIiwgXCJmaXRcIl07XG5jb25zdCB2YWxpZFNpZGVzID0gW1wiZHVwbGV4XCIsIFwiZHVwbGV4c2hvcnRcIiwgXCJkdXBsZXhsb25nXCIsIFwic2ltcGxleFwiXTtcbmNvbnN0IHZhbGlkUGFwZXJTaXplcyA9IFtcbiAgXCJBMlwiLFxuICBcIkEzXCIsXG4gIFwiQTRcIixcbiAgXCJBNVwiLFxuICBcIkE2XCIsXG4gIFwibGV0dGVyXCIsXG4gIFwibGVnYWxcIixcbiAgXCJ0YWJsb2lkXCIsXG4gIFwic3RhdGVtZW50XCIsXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBwcmludChcbiAgcGRmOiBzdHJpbmcsXG4gIG9wdGlvbnM6IFByaW50T3B0aW9ucyA9IHt9XG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdGhyb3dJZlVuc3VwcG9ydGVkT3BlcmF0aW5nU3lzdGVtKCk7XG4gIGlmICghcGRmKSB0aHJvdyBcIk5vIFBERiBzcGVjaWZpZWRcIjtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBkZikpIHRocm93IFwiTm8gc3VjaCBmaWxlXCI7XG5cbiAgbGV0IHN1bWF0cmFQZGYgPVxuICAgIG9wdGlvbnMuc3VtYXRyYVBkZlBhdGggfHwgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJTdW1hdHJhUERGLmV4ZVwiKTtcbiAgaWYgKCFvcHRpb25zLnN1bWF0cmFQZGZQYXRoKSBzdW1hdHJhUGRmID0gZml4UGF0aEZvckFzYXJVbnBhY2soc3VtYXRyYVBkZik7XG5cbiAgY29uc3QgYXJnczogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdCB7IHByaW50ZXIsIHNpbGVudCwgcHJpbnREaWFsb2cgfSA9IG9wdGlvbnM7XG5cbiAgaWYgKHByaW50RGlhbG9nKSB7XG4gICAgYXJncy5wdXNoKFwiLXByaW50LWRpYWxvZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJpbnRlcikge1xuICAgICAgYXJncy5wdXNoKFwiLXByaW50LXRvXCIsIHByaW50ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzLnB1c2goXCItcHJpbnQtdG8tZGVmYXVsdFwiKTtcbiAgICB9XG4gICAgaWYgKHNpbGVudCAhPT0gZmFsc2UpIHtcbiAgICAgIGFyZ3MucHVzaChcIi1zaWxlbnRcIik7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcHJpbnRTZXR0aW5ncyA9IGdldFByaW50U2V0dGluZ3Mob3B0aW9ucyk7XG5cbiAgaWYgKHByaW50U2V0dGluZ3MubGVuZ3RoKSB7XG4gICAgYXJncy5wdXNoKFwiLXByaW50LXNldHRpbmdzXCIsIHByaW50U2V0dGluZ3Muam9pbihcIixcIikpO1xuICB9XG5cbiAgYXJncy5wdXNoKHBkZik7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBleGVjQXN5bmMoc3VtYXRyYVBkZiwgYXJncyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UHJpbnRTZXR0aW5ncyhvcHRpb25zOiBQcmludE9wdGlvbnMpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHtcbiAgICBwYWdlcyxcbiAgICBzdWJzZXQsXG4gICAgb3JpZW50YXRpb24sXG4gICAgc2NhbGUsXG4gICAgbW9ub2Nocm9tZSxcbiAgICBzaWRlLFxuICAgIGJpbixcbiAgICBwYXBlclNpemUsXG4gICAgY29waWVzLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBwcmludFNldHRpbmdzID0gW107XG5cbiAgaWYgKHBhZ2VzKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKHBhZ2VzKTtcbiAgfVxuXG4gIGlmIChzdWJzZXQpIHtcbiAgICBpZiAodmFsaWRTdWJzZXRzLmluY2x1ZGVzKHN1YnNldCkpIHtcbiAgICAgIHByaW50U2V0dGluZ3MucHVzaChzdWJzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBzdWJzZXQgcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkU3Vic2V0cy5qb2luKFwiLCBcIil9YDtcbiAgICB9XG4gIH1cblxuICBpZiAob3JpZW50YXRpb24pIHtcbiAgICBpZiAodmFsaWRPcmllbnRhdGlvbnMuaW5jbHVkZXMob3JpZW50YXRpb24pKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2gob3JpZW50YXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBvcmllbnRhdGlvbiBwcm92aWRlZC4gVmFsaWQgbmFtZXM6ICR7dmFsaWRPcmllbnRhdGlvbnMuam9pbihcbiAgICAgICAgXCIsIFwiXG4gICAgICApfWA7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNjYWxlKSB7XG4gICAgaWYgKHZhbGlkU2NhbGVzLmluY2x1ZGVzKHNjYWxlKSkge1xuICAgICAgcHJpbnRTZXR0aW5ncy5wdXNoKHNjYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgYEludmFsaWQgc2NhbGUgcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkU2NhbGVzLmpvaW4oXCIsIFwiKX1gO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtb25vY2hyb21lKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKFwibW9ub2Nocm9tZVwiKTtcbiAgfSBlbHNlIGlmIChtb25vY2hyb21lID09PSBmYWxzZSkge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChcImNvbG9yXCIpO1xuICB9XG5cbiAgaWYgKHNpZGUpIHtcbiAgICBpZiAodmFsaWRTaWRlcy5pbmNsdWRlcyhzaWRlKSkge1xuICAgICAgcHJpbnRTZXR0aW5ncy5wdXNoKHNpZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBzaWRlIHByb3ZpZGVkLiBWYWxpZCBuYW1lczogJHt2YWxpZFNpZGVzLmpvaW4oXCIsIFwiKX1gO1xuICAgIH1cbiAgfVxuXG4gIGlmIChiaW4pIHtcbiAgICBwcmludFNldHRpbmdzLnB1c2goYGJpbj0ke2Jpbn1gKTtcbiAgfVxuXG4gIGlmIChwYXBlclNpemUpIHtcbiAgICBpZiAodmFsaWRQYXBlclNpemVzLmluY2x1ZGVzKHBhcGVyU2l6ZSkpIHtcbiAgICAgIHByaW50U2V0dGluZ3MucHVzaChgcGFwZXI9JHtwYXBlclNpemV9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGBJbnZhbGlkIHBhcGVyIHNpemUgcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkUGFwZXJTaXplcy5qb2luKFxuICAgICAgICBcIiwgXCJcbiAgICAgICl9YDtcbiAgICB9XG4gIH1cblxuICBpZiAoY29waWVzKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKGAke2NvcGllc314YCk7XG4gIH1cblxuICByZXR1cm4gcHJpbnRTZXR0aW5ncztcbn1cbiIsImltcG9ydCB7IFByaW50ZXIgfSBmcm9tIFwiLi4vZ2V0LWRlZmF1bHQtcHJpbnRlci9nZXQtZGVmYXVsdC1wcmludGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVmFsaWRQcmludGVyKFxuICBwcmludGVyOiBzdHJpbmdcbik6IHsgaXNWYWxpZDogYm9vbGVhbjsgcHJpbnRlckRhdGE6IFByaW50ZXIgfSB7XG4gIGNvbnN0IHByaW50ZXJEYXRhOiBQcmludGVyID0ge1xuICAgIGRldmljZUlkOiBcIlwiLFxuICAgIG5hbWU6IFwiXCIsXG4gIH07XG5cbiAgY29uc3QgaXNWYWxpZCA9IHByaW50ZXIuc3BsaXQoL1xccj9cXG4vKS5zb21lKChsaW5lKSA9PiB7XG4gICAgY29uc3QgW2xhYmVsLCB2YWx1ZV0gPSBsaW5lLnNwbGl0KFwiOlwiKS5tYXAoKGVsKSA9PiBlbC50cmltKCkpO1xuXG4gICAgY29uc3QgbG93ZXJMYWJlbCA9IGxhYmVsLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGxvd2VyTGFiZWwgPT09IFwiZGV2aWNlaWRcIikgcHJpbnRlckRhdGEuZGV2aWNlSWQgPSB2YWx1ZTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAobG93ZXJMYWJlbCA9PT0gXCJuYW1lXCIpIHByaW50ZXJEYXRhLm5hbWUgPSB2YWx1ZTtcblxuICAgIHJldHVybiAhIShwcmludGVyRGF0YS5kZXZpY2VJZCAmJiBwcmludGVyRGF0YS5uYW1lKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkLFxuICAgIHByaW50ZXJEYXRhLFxuICB9O1xufVxuIiwiaW1wb3J0IGV4ZWNGaWxlQXN5bmMgZnJvbSBcIi4uL3V0aWxzL2V4ZWMtZmlsZS1hc3luY1wiO1xuaW1wb3J0IGlzVmFsaWRQcmludGVyIGZyb20gXCIuLi91dGlscy93aW5kb3dzLXByaW50ZXItdmFsaWRcIjtcbmltcG9ydCB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0gZnJvbSBcIi4uL3V0aWxzL3Rocm93LWlmLXVuc3VwcG9ydGVkLW9zXCI7XG5pbXBvcnQgeyBQcmludGVyIH0gZnJvbSBcIi4uL2dldC1kZWZhdWx0LXByaW50ZXIvZ2V0LWRlZmF1bHQtcHJpbnRlclwiO1xuXG5hc3luYyBmdW5jdGlvbiBnZXRQcmludGVycygpOiBQcm9taXNlPFByaW50ZXJbXT4ge1xuICBmdW5jdGlvbiBzdGRvdXRIYW5kbGVyKHN0ZG91dDogc3RyaW5nKSB7XG4gICAgY29uc3QgcHJpbnRlcnM6IFByaW50ZXJbXSA9IFtdO1xuXG4gICAgc3Rkb3V0XG4gICAgICAuc3BsaXQoLyhcXHI/XFxuKXsyLH0vKVxuICAgICAgLm1hcCgocHJpbnRlcikgPT4gcHJpbnRlci50cmltKCkpXG4gICAgICAuZmlsdGVyKChwcmludGVyKSA9PiAhIXByaW50ZXIpXG4gICAgICAuZm9yRWFjaCgocHJpbnRlcikgPT4ge1xuICAgICAgICBjb25zdCB7IGlzVmFsaWQsIHByaW50ZXJEYXRhIH0gPSBpc1ZhbGlkUHJpbnRlcihwcmludGVyKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQpIHJldHVybjtcblxuICAgICAgICBwcmludGVycy5wdXNoKHByaW50ZXJEYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuIHByaW50ZXJzO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0oKTtcbiAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0ZpbGVBc3luYyhcIlBvd2Vyc2hlbGwuZXhlXCIsIFtcbiAgICAgIFwiLUNvbW1hbmRcIixcbiAgICAgIFwiR2V0LUNpbUluc3RhbmNlIFdpbjMyX1ByaW50ZXIgLVByb3BlcnR5IERldmljZUlELE5hbWVcIixcbiAgICBdKTtcbiAgICByZXR1cm4gc3Rkb3V0SGFuZGxlcihzdGRvdXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFByaW50ZXJzO1xuIiwiaW1wb3J0IGV4ZWNGaWxlQXN5bmMgZnJvbSBcIi4uL3V0aWxzL2V4ZWMtZmlsZS1hc3luY1wiO1xuaW1wb3J0IHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSBmcm9tIFwiLi4vdXRpbHMvdGhyb3ctaWYtdW5zdXBwb3J0ZWQtb3NcIjtcbmltcG9ydCBpc1ZhbGlkUHJpbnRlciBmcm9tIFwiLi4vdXRpbHMvd2luZG93cy1wcmludGVyLXZhbGlkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbnRlciB7XG4gIGRldmljZUlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0RGVmYXVsdFByaW50ZXIoKTogUHJvbWlzZTxQcmludGVyIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSgpO1xuXG4gICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNGaWxlQXN5bmMoXCJQb3dlcnNoZWxsLmV4ZVwiLCBbXG4gICAgICBcIi1Db21tYW5kXCIsXG4gICAgICBcIkdldC1DaW1JbnN0YW5jZSBXaW4zMl9QcmludGVyIC1Qcm9wZXJ0eSBEZXZpY2VJRCxOYW1lIC1GaWx0ZXIgRGVmYXVsdD10cnVlXCIsXG4gICAgXSk7XG5cbiAgICBjb25zdCBwcmludGVyID0gc3Rkb3V0LnRyaW0oKTtcblxuICAgIC8vIElmIHN0ZG91dCBpcyBlbXB0eSwgdGhlcmUgaXMgbm8gZGVmYXVsdCBwcmludGVyXG4gICAgaWYgKCFzdGRvdXQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBpc1ZhbGlkLCBwcmludGVyRGF0YSB9ID0gaXNWYWxpZFByaW50ZXIocHJpbnRlcik7XG5cbiAgICAvLyBEZXZpY2VJRCBvciBOYW1lIG5vdCBmb3VuZFxuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gcHJpbnRlckRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0RGVmYXVsdFByaW50ZXI7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJnbG9iYWwiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwicmVxdWlyZSIsImV4ZWNGaWxlIiwiaXNVc2luZ0FzYXIiLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJtYWluTW9kdWxlIiwiZmlsZW5hbWUiLCJpbmNsdWRlcyIsInRocm93SWZVbnN1cHBvcnRlZE9zIiwidmFsaWRTdWJzZXRzIiwidmFsaWRPcmllbnRhdGlvbnMiLCJ2YWxpZFNjYWxlcyIsInZhbGlkU2lkZXMiLCJ2YWxpZFBhcGVyU2l6ZXMiLCJwcmludCIsInBkZiIsIm9wdGlvbnMiLCJzdW1hdHJhUGRmIiwic3VtYXRyYVBkZlBhdGgiLCJfX2Rpcm5hbWUiLCJwYXRoIiwicmVwbGFjZSIsImFyZ3MiLCJwcmludGVyIiwic2lsZW50IiwicHJpbnREaWFsb2ciLCJwdXNoIiwicHJpbnRTZXR0aW5ncyIsInBhZ2VzIiwic3Vic2V0Iiwib3JpZW50YXRpb24iLCJzY2FsZSIsIm1vbm9jaHJvbWUiLCJzaWRlIiwiYmluIiwicGFwZXJTaXplIiwiY29waWVzIiwiam9pbiIsImdldFByaW50U2V0dGluZ3MiLCJsZW5ndGgiLCJlcnJvciIsImlzVmFsaWRQcmludGVyIiwicHJpbnRlckRhdGEiLCJkZXZpY2VJZCIsIm5hbWUiLCJpc1ZhbGlkIiwic3BsaXQiLCJzb21lIiwibGluZSIsImxhYmVsIiwibWFwIiwiZWwiLCJ0cmltIiwibG93ZXJMYWJlbCIsInRvTG93ZXJDYXNlIiwic3Rkb3V0IiwicHJpbnRlcnMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwic3Rkb3V0SGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=
\ No newline at end of file
+!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(global,(function(){return(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getDefaultPrinter:()=>x,getPrinters:()=>P,print:()=>y});const n=require("path");var i=e.n(n);const r=require("fs");var o=e.n(r);const a=require("child_process"),s=require("util"),c=e.n(s)().promisify(a.execFile),u="electron"in process.versions&&process.mainModule&&process.mainModule.filename.includes("app.asar"),p=require("os");var l=e.n(p);function d(){if("win32"!==l().platform())throw"Operating System not supported"}const f=["odd","even"],h=["portrait","landscape"],m=["noscale","shrink","fit"],v=["duplex","duplexshort","duplexlong","simplex"];function y(e,t={}){return n=this,r=void 0,s=function*(){if(d(),!e)throw"No PDF specified";if(!o().existsSync(e))throw"No such file";let n=t.sumatraPdfPath||i().join(__dirname,"SumatraPDF.exe");var r;t.sumatraPdfPath||(r=n,n=u?r.replace("app.asar","app.asar.unpacked"):r);const a=[],{printer:s,silent:p,printDialog:l}=t;l?a.push("-print-dialog"):(s?a.push("-print-to",s):a.push("-print-to-default"),!1!==p&&a.push("-silent"));const y=function(e){const{pages:t,subset:n,orientation:i,scale:r,monochrome:o,side:a,bin:s,paperSize:c,copies:u}=e,p=[];if(t&&p.push(t),n){if(!f.includes(n))throw`Invalid subset provided. Valid names: ${f.join(", ")}`;p.push(n)}if(i){if(!h.includes(i))throw`Invalid orientation provided. Valid names: ${h.join(", ")}`;p.push(i)}if(r){if(!m.includes(r))throw`Invalid scale provided. Valid names: ${m.join(", ")}`;p.push(r)}if(o?p.push("monochrome"):!1===o&&p.push("color"),a){if(!v.includes(a))throw`Invalid side provided. Valid names: ${v.join(", ")}`;p.push(a)}return s&&p.push(`bin=${s}`),c&&p.push(`paper=${c}`),u&&p.push(`${u}x`),p}(t);y.length&&a.push("-print-settings",y.join(",")),a.push(e);try{yield c(n,a)}catch(e){throw e}},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function o(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((s=s.apply(n,r||[])).next())}));var n,r,a,s}function w(e){const t={deviceId:"",name:""};return{isValid:e.split(/\r?\n/).some((e=>{const[n,i]=e.split(":").map((e=>e.trim())),r=n.toLowerCase();return"deviceid"===r&&(t.deviceId=i),"name"===r&&(t.name=i),!(!t.deviceId||!t.name)})),printerData:t}}const P=function(){return e=this,t=void 0,i=function*(){try{d();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name"]);return function(e){const t=[];return e.split(/(\r?\n){2,}/).map((e=>e.trim())).filter((e=>!!e)).forEach((e=>{const{isValid:n,printerData:i}=w(e);n&&t.push(i)})),t}(e)}catch(e){throw e}},new((n=void 0)||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i};const x=function(){return e=this,t=void 0,i=function*(){try{d();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name -Filter Default=true"]),t=e.trim();if(!e)return null;const{isValid:n,printerData:i}=w(t);return n?i:null}catch(e){throw e}},new((n=void 0)||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i};return t})()}));
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0EsMERBRUYsT0F4QkYsU0FBdUJBLEdBQ3JCLE1BQU1DLEVBQXNCLEdBYzVCLE9BWkFELEVBQ0dULE1BQU0sZUFDTkksS0FBSzNCLEdBQVlBLEVBQVE2QixTQUN6QkssUUFBUWxDLEtBQWNBLElBQ3RCbUMsU0FBU25DLElBQ1IsTUFBTSxRQUFFc0IsRUFBTyxZQUFFSCxHQUFnQkQsRUFBZWxCLEdBRTNDc0IsR0FFTFcsRUFBUzlCLEtBQUtnQixNQUdYYyxFQVNBRyxDQUFjSixHQUNyQixNQUFPZixHQUNQLE1BQU1BLEksZ1NDRVYsUUF6QkEsVyxxQ0FDRSxJQUNFLElBRUEsTUFBTSxPQUFFZSxTQUFpQixFQUFjLGlCQUFrQixDQUN2RCxXQUNBLCtFQUdJaEMsRUFBVWdDLEVBQU9ILE9BR3ZCLElBQUtHLEVBQVEsT0FBTyxLQUVwQixNQUFNLFFBQUVWLEVBQU8sWUFBRUgsR0FBZ0JELEVBQWVsQixHQUdoRCxPQUFLc0IsRUFFRUgsRUFGYyxLQUdyQixNQUFPRixHQUNQLE1BQU1BLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwicGF0aFwiIiwid2VicGFjazovL3BkZi10by1wcmludGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJmc1wiIiwid2VicGFjazovL3BkZi10by1wcmludGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJjaGlsZF9wcm9jZXNzXCIiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInV0aWxcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy9leGVjLWZpbGUtYXN5bmMudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvdXRpbHMvZWxlY3Ryb24tdXRpbC50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwib3NcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy90aHJvdy1pZi11bnN1cHBvcnRlZC1vcy50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy9wcmludC9wcmludC50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy91dGlscy93aW5kb3dzLXByaW50ZXItdmFsaWQudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvZ2V0LXByaW50ZXJzL2dldC1wcmludGVycy50cyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci8uL3NyYy9nZXQtZGVmYXVsdC1wcmludGVyL2dldC1kZWZhdWx0LXByaW50ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwicGF0aFwiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcImZzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcInV0aWxcIik7IiwiaW1wb3J0IHsgZXhlY0ZpbGUgfSBmcm9tIFwiY2hpbGRfcHJvY2Vzc1wiO1xuaW1wb3J0IHV0aWwgZnJvbSBcInV0aWxcIjtcblxuY29uc3QgZXhlY0ZpbGVBc3luYyA9IHV0aWwucHJvbWlzaWZ5KGV4ZWNGaWxlKTtcblxuZXhwb3J0IGRlZmF1bHQgZXhlY0ZpbGVBc3luYztcbiIsIi8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9lbGVjdHJvbi11dGlsL2Jsb2IvbWFzdGVyL25vZGUuanNcblxuY29uc3QgaXNFbGVjdHJvbiA9IFwiZWxlY3Ryb25cIiBpbiBwcm9jZXNzLnZlcnNpb25zO1xuXG5jb25zdCBpc1VzaW5nQXNhciA9XG4gIGlzRWxlY3Ryb24gJiZcbiAgcHJvY2Vzcy5tYWluTW9kdWxlICYmXG4gIHByb2Nlc3MubWFpbk1vZHVsZS5maWxlbmFtZS5pbmNsdWRlcyhcImFwcC5hc2FyXCIpO1xuXG5mdW5jdGlvbiBmaXhQYXRoRm9yQXNhclVucGFjayhwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gaXNVc2luZ0FzYXIgPyBwYXRoLnJlcGxhY2UoXCJhcHAuYXNhclwiLCBcImFwcC5hc2FyLnVucGFja2VkXCIpIDogcGF0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZml4UGF0aEZvckFzYXJVbnBhY2s7XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gcmVxdWlyZShcIm9zXCIpOyIsImltcG9ydCBvcyBmcm9tIFwib3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGhyb3dJZlVuc3VwcG9ydGVkT3MoKSB7XG4gIGlmIChvcy5wbGF0Zm9ybSgpICE9PSBcIndpbjMyXCIpIHtcbiAgICB0aHJvdyBcIk9wZXJhdGluZyBTeXN0ZW0gbm90IHN1cHBvcnRlZFwiO1xuICB9XG59XG4iLCJpbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IGV4ZWNBc3luYyBmcm9tIFwiLi4vdXRpbHMvZXhlYy1maWxlLWFzeW5jXCI7XG5pbXBvcnQgZml4UGF0aEZvckFzYXJVbnBhY2sgZnJvbSBcIi4uL3V0aWxzL2VsZWN0cm9uLXV0aWxcIjtcbmltcG9ydCB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0gZnJvbSBcIi4uL3V0aWxzL3Rocm93LWlmLXVuc3VwcG9ydGVkLW9zXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbnRPcHRpb25zIHtcbiAgcHJpbnRlcj86IHN0cmluZztcbiAgcGFnZXM/OiBzdHJpbmc7XG4gIHN1YnNldD86IHN0cmluZztcbiAgb3JpZW50YXRpb24/OiBzdHJpbmc7XG4gIHNjYWxlPzogc3RyaW5nO1xuICBtb25vY2hyb21lPzogYm9vbGVhbjtcbiAgc2lkZT86IHN0cmluZztcbiAgYmluPzogc3RyaW5nO1xuICBwYXBlclNpemU/OiBzdHJpbmc7XG4gIHNpbGVudD86IGJvb2xlYW47XG4gIHByaW50RGlhbG9nPzogYm9vbGVhbjtcbiAgc3VtYXRyYVBkZlBhdGg/OiBzdHJpbmc7XG4gIGNvcGllcz86IG51bWJlcjtcbn1cblxuY29uc3QgdmFsaWRTdWJzZXRzID0gW1wib2RkXCIsIFwiZXZlblwiXTtcbmNvbnN0IHZhbGlkT3JpZW50YXRpb25zID0gW1wicG9ydHJhaXRcIiwgXCJsYW5kc2NhcGVcIl07XG5jb25zdCB2YWxpZFNjYWxlcyA9IFtcIm5vc2NhbGVcIiwgXCJzaHJpbmtcIiwgXCJmaXRcIl07XG5jb25zdCB2YWxpZFNpZGVzID0gW1wiZHVwbGV4XCIsIFwiZHVwbGV4c2hvcnRcIiwgXCJkdXBsZXhsb25nXCIsIFwic2ltcGxleFwiXTtcbmNvbnN0IHZhbGlkUGFwZXJTaXplcyA9IFtcbiAgXCJBMlwiLFxuICBcIkEzXCIsXG4gIFwiQTRcIixcbiAgXCJBNVwiLFxuICBcIkE2XCIsXG4gIFwibGV0dGVyXCIsXG4gIFwibGVnYWxcIixcbiAgXCJ0YWJsb2lkXCIsXG4gIFwic3RhdGVtZW50XCIsXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBwcmludChcbiAgcGRmOiBzdHJpbmcsXG4gIG9wdGlvbnM6IFByaW50T3B0aW9ucyA9IHt9LFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSgpO1xuICBpZiAoIXBkZikgdGhyb3cgXCJObyBQREYgc3BlY2lmaWVkXCI7XG4gIGlmICghZnMuZXhpc3RzU3luYyhwZGYpKSB0aHJvdyBcIk5vIHN1Y2ggZmlsZVwiO1xuXG4gIGxldCBzdW1hdHJhUGRmID1cbiAgICBvcHRpb25zLnN1bWF0cmFQZGZQYXRoIHx8IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiU3VtYXRyYVBERi5leGVcIik7XG4gIGlmICghb3B0aW9ucy5zdW1hdHJhUGRmUGF0aCkgc3VtYXRyYVBkZiA9IGZpeFBhdGhGb3JBc2FyVW5wYWNrKHN1bWF0cmFQZGYpO1xuXG4gIGNvbnN0IGFyZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3QgeyBwcmludGVyLCBzaWxlbnQsIHByaW50RGlhbG9nIH0gPSBvcHRpb25zO1xuXG4gIGlmIChwcmludERpYWxvZykge1xuICAgIGFyZ3MucHVzaChcIi1wcmludC1kaWFsb2dcIik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByaW50ZXIpIHtcbiAgICAgIGFyZ3MucHVzaChcIi1wcmludC10b1wiLCBwcmludGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJncy5wdXNoKFwiLXByaW50LXRvLWRlZmF1bHRcIik7XG4gICAgfVxuICAgIGlmIChzaWxlbnQgIT09IGZhbHNlKSB7XG4gICAgICBhcmdzLnB1c2goXCItc2lsZW50XCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHByaW50U2V0dGluZ3MgPSBnZXRQcmludFNldHRpbmdzKG9wdGlvbnMpO1xuXG4gIGlmIChwcmludFNldHRpbmdzLmxlbmd0aCkge1xuICAgIGFyZ3MucHVzaChcIi1wcmludC1zZXR0aW5nc1wiLCBwcmludFNldHRpbmdzLmpvaW4oXCIsXCIpKTtcbiAgfVxuXG4gIGFyZ3MucHVzaChwZGYpO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgZXhlY0FzeW5jKHN1bWF0cmFQZGYsIGFyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFByaW50U2V0dGluZ3Mob3B0aW9uczogUHJpbnRPcHRpb25zKTogc3RyaW5nW10ge1xuICBjb25zdCB7XG4gICAgcGFnZXMsXG4gICAgc3Vic2V0LFxuICAgIG9yaWVudGF0aW9uLFxuICAgIHNjYWxlLFxuICAgIG1vbm9jaHJvbWUsXG4gICAgc2lkZSxcbiAgICBiaW4sXG4gICAgcGFwZXJTaXplLFxuICAgIGNvcGllcyxcbiAgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgcHJpbnRTZXR0aW5ncyA9IFtdO1xuXG4gIGlmIChwYWdlcykge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChwYWdlcyk7XG4gIH1cblxuICBpZiAoc3Vic2V0KSB7XG4gICAgaWYgKHZhbGlkU3Vic2V0cy5pbmNsdWRlcyhzdWJzZXQpKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2goc3Vic2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgYEludmFsaWQgc3Vic2V0IHByb3ZpZGVkLiBWYWxpZCBuYW1lczogJHt2YWxpZFN1YnNldHMuam9pbihcIiwgXCIpfWA7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9yaWVudGF0aW9uKSB7XG4gICAgaWYgKHZhbGlkT3JpZW50YXRpb25zLmluY2x1ZGVzKG9yaWVudGF0aW9uKSkge1xuICAgICAgcHJpbnRTZXR0aW5ncy5wdXNoKG9yaWVudGF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgYEludmFsaWQgb3JpZW50YXRpb24gcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkT3JpZW50YXRpb25zLmpvaW4oXG4gICAgICAgIFwiLCBcIixcbiAgICAgICl9YDtcbiAgICB9XG4gIH1cblxuICBpZiAoc2NhbGUpIHtcbiAgICBpZiAodmFsaWRTY2FsZXMuaW5jbHVkZXMoc2NhbGUpKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2goc2NhbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBzY2FsZSBwcm92aWRlZC4gVmFsaWQgbmFtZXM6ICR7dmFsaWRTY2FsZXMuam9pbihcIiwgXCIpfWA7XG4gICAgfVxuICB9XG5cbiAgaWYgKG1vbm9jaHJvbWUpIHtcbiAgICBwcmludFNldHRpbmdzLnB1c2goXCJtb25vY2hyb21lXCIpO1xuICB9IGVsc2UgaWYgKG1vbm9jaHJvbWUgPT09IGZhbHNlKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKFwiY29sb3JcIik7XG4gIH1cblxuICBpZiAoc2lkZSkge1xuICAgIGlmICh2YWxpZFNpZGVzLmluY2x1ZGVzKHNpZGUpKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2goc2lkZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGBJbnZhbGlkIHNpZGUgcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkU2lkZXMuam9pbihcIiwgXCIpfWA7XG4gICAgfVxuICB9XG5cbiAgaWYgKGJpbikge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChgYmluPSR7YmlufWApO1xuICB9XG5cbiAgaWYgKHBhcGVyU2l6ZSkge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChgcGFwZXI9JHtwYXBlclNpemV9YCk7XG4gICAgLyogaWYgKHZhbGlkUGFwZXJTaXplcy5pbmNsdWRlcyhwYXBlclNpemUpKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2goYHBhcGVyPSR7cGFwZXJTaXplfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBwYXBlciBzaXplIHByb3ZpZGVkLiBWYWxpZCBuYW1lczogJHt2YWxpZFBhcGVyU2l6ZXMuam9pbihcbiAgICAgICAgXCIsIFwiXG4gICAgICApfWA7XG4gICAgfSAqL1xuICB9XG5cbiAgaWYgKGNvcGllcykge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChgJHtjb3BpZXN9eGApO1xuICB9XG5cbiAgcmV0dXJuIHByaW50U2V0dGluZ3M7XG59XG4iLCJpbXBvcnQgeyBQcmludGVyIH0gZnJvbSBcIi4uL2dldC1kZWZhdWx0LXByaW50ZXIvZ2V0LWRlZmF1bHQtcHJpbnRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1ZhbGlkUHJpbnRlcihcbiAgcHJpbnRlcjogc3RyaW5nXG4pOiB7IGlzVmFsaWQ6IGJvb2xlYW47IHByaW50ZXJEYXRhOiBQcmludGVyIH0ge1xuICBjb25zdCBwcmludGVyRGF0YTogUHJpbnRlciA9IHtcbiAgICBkZXZpY2VJZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICB9O1xuXG4gIGNvbnN0IGlzVmFsaWQgPSBwcmludGVyLnNwbGl0KC9cXHI/XFxuLykuc29tZSgobGluZSkgPT4ge1xuICAgIGNvbnN0IFtsYWJlbCwgdmFsdWVdID0gbGluZS5zcGxpdChcIjpcIikubWFwKChlbCkgPT4gZWwudHJpbSgpKTtcblxuICAgIGNvbnN0IGxvd2VyTGFiZWwgPSBsYWJlbC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGlmIChsb3dlckxhYmVsID09PSBcImRldmljZWlkXCIpIHByaW50ZXJEYXRhLmRldmljZUlkID0gdmFsdWU7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKGxvd2VyTGFiZWwgPT09IFwibmFtZVwiKSBwcmludGVyRGF0YS5uYW1lID0gdmFsdWU7XG5cbiAgICByZXR1cm4gISEocHJpbnRlckRhdGEuZGV2aWNlSWQgJiYgcHJpbnRlckRhdGEubmFtZSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgaXNWYWxpZCxcbiAgICBwcmludGVyRGF0YSxcbiAgfTtcbn1cbiIsImltcG9ydCBleGVjRmlsZUFzeW5jIGZyb20gXCIuLi91dGlscy9leGVjLWZpbGUtYXN5bmNcIjtcbmltcG9ydCBpc1ZhbGlkUHJpbnRlciBmcm9tIFwiLi4vdXRpbHMvd2luZG93cy1wcmludGVyLXZhbGlkXCI7XG5pbXBvcnQgdGhyb3dJZlVuc3VwcG9ydGVkT3BlcmF0aW5nU3lzdGVtIGZyb20gXCIuLi91dGlscy90aHJvdy1pZi11bnN1cHBvcnRlZC1vc1wiO1xuaW1wb3J0IHsgUHJpbnRlciB9IGZyb20gXCIuLi9nZXQtZGVmYXVsdC1wcmludGVyL2dldC1kZWZhdWx0LXByaW50ZXJcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0UHJpbnRlcnMoKTogUHJvbWlzZTxQcmludGVyW10+IHtcbiAgZnVuY3Rpb24gc3Rkb3V0SGFuZGxlcihzdGRvdXQ6IHN0cmluZykge1xuICAgIGNvbnN0IHByaW50ZXJzOiBQcmludGVyW10gPSBbXTtcblxuICAgIHN0ZG91dFxuICAgICAgLnNwbGl0KC8oXFxyP1xcbil7Mix9LylcbiAgICAgIC5tYXAoKHByaW50ZXIpID0+IHByaW50ZXIudHJpbSgpKVxuICAgICAgLmZpbHRlcigocHJpbnRlcikgPT4gISFwcmludGVyKVxuICAgICAgLmZvckVhY2goKHByaW50ZXIpID0+IHtcbiAgICAgICAgY29uc3QgeyBpc1ZhbGlkLCBwcmludGVyRGF0YSB9ID0gaXNWYWxpZFByaW50ZXIocHJpbnRlcik7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkKSByZXR1cm47XG5cbiAgICAgICAgcHJpbnRlcnMucHVzaChwcmludGVyRGF0YSk7XG4gICAgICB9KTtcblxuICAgIHJldHVybiBwcmludGVycztcbiAgfVxuXG4gIHRyeSB7XG4gICAgdGhyb3dJZlVuc3VwcG9ydGVkT3BlcmF0aW5nU3lzdGVtKCk7XG4gICAgY29uc3QgeyBzdGRvdXQgfSA9IGF3YWl0IGV4ZWNGaWxlQXN5bmMoXCJQb3dlcnNoZWxsLmV4ZVwiLCBbXG4gICAgICBcIi1Db21tYW5kXCIsXG4gICAgICBcIkdldC1DaW1JbnN0YW5jZSBXaW4zMl9QcmludGVyIC1Qcm9wZXJ0eSBEZXZpY2VJRCxOYW1lXCIsXG4gICAgXSk7XG4gICAgcmV0dXJuIHN0ZG91dEhhbmRsZXIoc3Rkb3V0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRQcmludGVycztcbiIsImltcG9ydCBleGVjRmlsZUFzeW5jIGZyb20gXCIuLi91dGlscy9leGVjLWZpbGUtYXN5bmNcIjtcbmltcG9ydCB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0gZnJvbSBcIi4uL3V0aWxzL3Rocm93LWlmLXVuc3VwcG9ydGVkLW9zXCI7XG5pbXBvcnQgaXNWYWxpZFByaW50ZXIgZnJvbSBcIi4uL3V0aWxzL3dpbmRvd3MtcHJpbnRlci12YWxpZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByaW50ZXIge1xuICBkZXZpY2VJZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRQcmludGVyKCk6IFByb21pc2U8UHJpbnRlciB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICB0aHJvd0lmVW5zdXBwb3J0ZWRPcGVyYXRpbmdTeXN0ZW0oKTtcblxuICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjRmlsZUFzeW5jKFwiUG93ZXJzaGVsbC5leGVcIiwgW1xuICAgICAgXCItQ29tbWFuZFwiLFxuICAgICAgXCJHZXQtQ2ltSW5zdGFuY2UgV2luMzJfUHJpbnRlciAtUHJvcGVydHkgRGV2aWNlSUQsTmFtZSAtRmlsdGVyIERlZmF1bHQ9dHJ1ZVwiLFxuICAgIF0pO1xuXG4gICAgY29uc3QgcHJpbnRlciA9IHN0ZG91dC50cmltKCk7XG5cbiAgICAvLyBJZiBzdGRvdXQgaXMgZW1wdHksIHRoZXJlIGlzIG5vIGRlZmF1bHQgcHJpbnRlclxuICAgIGlmICghc3Rkb3V0KSByZXR1cm4gbnVsbDtcblxuICAgIGNvbnN0IHsgaXNWYWxpZCwgcHJpbnRlckRhdGEgfSA9IGlzVmFsaWRQcmludGVyKHByaW50ZXIpO1xuXG4gICAgLy8gRGV2aWNlSUQgb3IgTmFtZSBub3QgZm91bmRcbiAgICBpZiAoIWlzVmFsaWQpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHByaW50ZXJEYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldERlZmF1bHRQcmludGVyO1xuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwiZ2xvYmFsIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInJlcXVpcmUiLCJleGVjRmlsZSIsImlzVXNpbmdBc2FyIiwicHJvY2VzcyIsInZlcnNpb25zIiwibWFpbk1vZHVsZSIsImZpbGVuYW1lIiwiaW5jbHVkZXMiLCJ0aHJvd0lmVW5zdXBwb3J0ZWRPcyIsInZhbGlkU3Vic2V0cyIsInZhbGlkT3JpZW50YXRpb25zIiwidmFsaWRTY2FsZXMiLCJ2YWxpZFNpZGVzIiwicHJpbnQiLCJwZGYiLCJvcHRpb25zIiwic3VtYXRyYVBkZiIsInN1bWF0cmFQZGZQYXRoIiwiX19kaXJuYW1lIiwicGF0aCIsInJlcGxhY2UiLCJhcmdzIiwicHJpbnRlciIsInNpbGVudCIsInByaW50RGlhbG9nIiwicHVzaCIsInByaW50U2V0dGluZ3MiLCJwYWdlcyIsInN1YnNldCIsIm9yaWVudGF0aW9uIiwic2NhbGUiLCJtb25vY2hyb21lIiwic2lkZSIsImJpbiIsInBhcGVyU2l6ZSIsImNvcGllcyIsImpvaW4iLCJnZXRQcmludFNldHRpbmdzIiwibGVuZ3RoIiwiZXJyb3IiLCJpc1ZhbGlkUHJpbnRlciIsInByaW50ZXJEYXRhIiwiZGV2aWNlSWQiLCJuYW1lIiwiaXNWYWxpZCIsInNwbGl0Iiwic29tZSIsImxpbmUiLCJsYWJlbCIsIm1hcCIsImVsIiwidHJpbSIsImxvd2VyTGFiZWwiLCJ0b0xvd2VyQ2FzZSIsInN0ZG91dCIsInByaW50ZXJzIiwiZmlsdGVyIiwiZm9yRWFjaCIsInN0ZG91dEhhbmRsZXIiXSwic291cmNlUm9vdCI6IiJ9
\ No newline at end of file
